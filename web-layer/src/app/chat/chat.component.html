<div class="container mt-5">
  {{errorMessage}}
  <div class="chat-header">
    <h3 class="text-center my-2">Welcome</h3>
    <button (click)="leaveChat()" class="btn btn-dark">Leave chat</button>
  </div>
  <div class="messaging">
    <div class="inbox_msg">
      <div class="inbox_people">
        <div class="heading_srch">
          <div class="recent_heading">
            <h4>Connected Users</h4>
          </div>
          <div class="srch_bar">
            <div class="stylish-input-group">
              <input type="text" class="search-bar" placeholder="Search">
              <span class="input-group-addon">
                <button type="button"><i class="fa fa-search" aria-hidden="true"></i></button>
              </span>
            </div>
          </div>
        </div>
        <div class="inbox_chat">
          <div *ngFor="let user of users" class="chat_list">
            <div class="chat_people">
              <div class="chat_img"><img src="https://ptetutorials.com/images/user-profile.png" alt="User profile">
              </div>
              <div class="chat_ib">
                <h5>{{user}}</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="mesgs">
        <div #scroll class="msg_history">
          <ng-container *ngFor="let message of messages; let i = index">
            <div class="message-group"
              [ngClass]="{'outgoing': message.user === loggedInUserName, 'incoming': message.user !== loggedInUserName}">
              <div class="message-avatar"
                *ngIf="message.user !== loggedInUserName && (i === 0 || messages[i-1].user !== message.user)">
                <img src="https://pretutorials.com/images/user-profile.png" alt="">
              </div>
              <div class="message-content-wrapper">
                <div class="message-content">
                  <p>{{message.message}}</p>
                  <span class="time_date">{{message.user}} | {{message.messageTime | date: "medium"}}</span>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
        <div class="type_msg">
          <div class="input_msg_write">
            <input [(ngModel)]="inputedMessage" type="text" class="write_msg" placeholder="Type a message">
            <button (keydown.enter)="sendMessage()" (click)="sendMessage()" class="msg_send_btn" type="button">
              <img src="assets/send.png" alt="Send" class="send_img">
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>